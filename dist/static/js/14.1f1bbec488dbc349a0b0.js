webpackJsonp([14,44],{"3KI6":function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},"3pTH":function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},RxNO:function(n,t,e){var a=e("3pTH");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("7c3e5463",a,!0)},VheR:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("Pcuu"),i=e("tU9i"),o=e("ywFk"),l=e("H8JJ"),r=e("jN9j"),s={name:"VideoComment",components:{ActionPermControl:a.a,BaseTable:i.a,CommentModal:o.default},mixins:[l.a],data:function(){return{dialogStatus:"",dialogFormVisible:!1}},created:function(){},methods:{getList:function(){var n=this;Object(r.g)(this.listQuery).then(function(t){n.list=t.data.data.items,n.total=t.data.data.total,n.listLoading=!1}).catch(function(){n.list=[],n.total=0,n.listLoading=!1})},handleCreate:function(){var n=this;this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){n.$refs.commentModal.init()})},handleUpdate:function(n){var t=this;this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs.commentModal.init(n)})},handleDelete:function(n){var t=this;this.$confirm("此操作将永久删除该评论, 是否继续?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(r.e)(n.id).then(function(n){t.getList(),t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3})}).catch(function(n){t.$notify({title:"失败",message:n.data?n.data.msg:"删除失败",type:"error",duration:2e3})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}},c={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"app-container calendar-list-container"},[e("div",{staticClass:"filter-container"},[e("el-form",{attrs:{inline:!0,"label-position":"right"}},[e("el-form-item",{attrs:{label:"用户ID："}},[e("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入用户ID"},model:{value:n.listQuery.userId,callback:function(t){n.$set(n.listQuery,"userId",t)},expression:"listQuery.userId"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"视频ID："}},[e("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入视频ID"},model:{value:n.listQuery.videoId,callback:function(t){n.$set(n.listQuery,"videoId",t)},expression:"listQuery.videoId"}})],1),n._v(" "),e("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:n.handleFilter}},[n._v("查找")]),n._v(" "),n.$checkPerm("create")?e("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:n.handleCreate}},[n._v("添加")]):n._e()],1)],1),n._v(" "),e("base-table",{attrs:{data:n.list,loading:n.listLoading,pageSize:n.listQuery.limit,currentPage:n.listQuery.page,total:n.total},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}},[e("el-table-column",{attrs:{align:"center",label:"用户ID",prop:"userId"}}),n._v(" "),e("el-table-column",{attrs:{align:"center",label:"视频ID",prop:"videoId"}}),n._v(" "),e("el-table-column",{attrs:{align:"center",label:"评论内容",prop:"content"}}),n._v(" "),e("el-table-column",{attrs:{align:"center",label:"评论时间",prop:"addTime"}}),n._v(" "),e("el-table-column",{attrs:{align:"center",label:"操作",width:"200","class-name":"small-padding fixed-width"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("action-perm-control",{attrs:{hasPerm:n.$checkPerm("update","delete")}},[n.$checkPerm("update")?e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){n.handleUpdate(t.row)}}},[n._v("编辑")]):n._e(),n._v(" "),n.$checkPerm("delete")?e("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){n.handleDelete(t.row)}}},[n._v("删除")]):n._e()],1)]}}])})],1),n._v(" "),n.dialogFormVisible?e("comment-modal",{ref:"commentModal",attrs:{dialogStatus:n.dialogStatus},on:{fetchList:n.getList}}):n._e()],1)},staticRenderFns:[]};var d=e("VU/8")(s,c,!1,function(n){e("RxNO")},null,null);t.default=d.exports},ywFk:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("mvHQ"),i=e.n(a),o=e("jN9j"),l=e("m884"),r={name:"CommentModal",props:{dialogStatus:String},data:function(){return{dialogFormVisible:!1,textMap:{update:"编辑",create:"创建"},dataForm:{userId:"",videoId:"",content:"",addTime:""},rules:l.a}},created:function(){},methods:{init:function(n){var t=this;this.resetForm(),this.dialogFormVisible=!0,this.$nextTick(function(){t.initFormData(n),t.$refs.dataForm.clearValidate()})},resetForm:function(){this.dataForm={userId:"",videoId:"",content:"",addTime:""}},initFormData:function(n){if(n){var t=JSON.parse(i()(n));this.dataForm=t}},createData:function(){this.requestData("create",o.b)},updateData:function(){this.requestData("update",o.i)},requestData:function(n,t){var e=this;this.$refs.dataForm.validate(function(a){a&&t(e.dataForm).then(function(){e.$notify({title:"成功",message:"create"===n?"创建成功":"更新成功",type:"success",duration:2e3})}).catch(function(t){e.$notify({title:"失败",message:t.data?t.data.msg:"create"===n?"创建失败":"更新失败",type:"error",duration:2e3})}).finally(function(){e.$emit("fetchList"),e.dialogFormVisible=!1})})}}},s={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("el-dialog",{attrs:{title:n.textMap[n.dialogStatus],visible:n.dialogFormVisible},on:{"update:visible":function(t){n.dialogFormVisible=t}}},[e("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:n.rules,model:n.dataForm,"status-icon":"","label-position":"left","label-width":"100px"}},[e("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[e("el-input",{model:{value:n.dataForm.userId,callback:function(t){n.$set(n.dataForm,"userId",t)},expression:"dataForm.userId"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"视频ID",prop:"videoId"}},[e("el-input",{model:{value:n.dataForm.videoId,callback:function(t){n.$set(n.dataForm,"videoId",t)},expression:"dataForm.videoId"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"评论内容",prop:"content"}},[e("el-input",{attrs:{type:"textarea"},model:{value:n.dataForm.content,callback:function(t){n.$set(n.dataForm,"content",t)},expression:"dataForm.content"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"评论时间",prop:"addTime"}},[e("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:n.dataForm.addTime,callback:function(t){n.$set(n.dataForm,"addTime",t)},expression:"dataForm.addTime"}})],1)],1),n._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(t){n.dialogFormVisible=!1}}},[n._v("取消")]),n._v(" "),"create"==n.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:n.createData}},[n._v("确定")]):e("el-button",{attrs:{type:"primary"},on:{click:n.updateData}},[n._v("确定")])],1)],1)},staticRenderFns:[]};var c=e("VU/8")(r,s,!1,function(n){e("zkcu")},null,null);t.default=c.exports},zkcu:function(n,t,e){var a=e("3KI6");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("e2f124b2",a,!0)}});