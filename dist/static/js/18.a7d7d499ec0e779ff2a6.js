webpackJsonp([18],{FX28:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("woOf"),a=o.n(i),s=o("qsHl"),r=o("EX+S"),l=o("07y0"),n=o("zL8q"),c=o("Mg5x"),d=o("apHD"),u=o.n(d),p=(o("m3AJ"),{name:"GoodsCreate",data:function(){return{uploadPath:"",token:"",newKeywordVisible:!1,newCommentwordVisible:!1,newKeyword:"",newCommentword:"",keywords:[],userCommentKeywords:[],categoryList:[],expressType:"",goodsAddress:{provinceId:"",cityId:"",areaId:""},cities:{},provinces:{},areas:{},goods:{picUrl:"",gallery:[],isRecommend:!1,showMonthSell:!1,isOnSale:!1},specVisiable:!1,specForm:{specification:"",value:""},multipleSpec:!1,specifications:[{specification:"规格",value:"标准"}],productVisiable:!1,productForm:{id:0,specifications:[],price:0,number:0,skuNo:0,url:""},products:[{id:0,specifications:["标准"],price:0,number:0,skuNo:0,url:""}],attributeVisiable:!1,attributeForm:{attribute:"",value:""},attributes:[],rules:c.b,specRules:c.e,productRules:c.d,attributeRules:c.a}},created:function(){this.init()},mounted:function(){this.initDragula()},watch:{expressType:function(e){this.goods.expressType=e},"goods.gallery":function(e){this.setDragulaItemKeys()}},methods:{init:function(){var e=this;Object(s.e)().then(function(t){var o=t.data.data.categoryList;e.categoryList=o.map(function(e){return e.children&&0===e.children.length&&delete e.children,e})}),this.setCdnPath(),this.getProvinces()},setCdnPath:function(){var e=this;Object(r.a)().then(function(t){var o=t.data.data;e.token=o.accessKey,e.uploadPath="https://up-z2.qiniup.com?token="+o.accessKey,e.downloadPath=o.url})},setDragulaItemKeys:function(){for(var e=document.querySelectorAll(".gallery-img-wrapper .el-upload-list__item"),t=0;t<e.length;t++){e[t].setAttribute("img",this.goods.gallery[t])}},getDragulaItemKeys:function(){for(var e=[],t=document.querySelectorAll(".gallery-img-wrapper .el-upload-list__item"),o=0;o<t.length;o++){var i=t[o];e.push(i.getAttribute("img"))}return e},initDragula:function(){var e=this;u()([document.querySelector(".gallery-img-wrapper .el-upload-list--picture-card")]).on("drop",function(t){e.goods.gallery=e.getDragulaItemKeys()})},getProvinces:function(){var e=this;Object(l.b)({id:0}).then(function(t){e.provinces=t.data.data})},provinceChange:function(e){var t=this;void 0!==e&&(this.cities={},this.goodsAddress.cityId=void 0,Object(l.b)({id:e}).then(function(e){t.cities=e.data.data}))},cityChange:function(e){var t=this;void 0!==e&&(this.areas={},this.goodsAddress.areaId=void 0,Object(l.b)({id:e}).then(function(e){t.areas=e.data.data}))},handleCategoryChange:function(e){(this.goods.categoryId=e,e)&&(1===this.categoryList.filter(function(t){return t.value===e})[0].type?this.expressType=!0:this.expressType=!1)},handleCancel:function(){this.$router.push({path:"/goods/list"})},handlePublish:function(){var e=this;this.goods.retailPrice&&(this.goods.retailPrice=Number(this.goods.retailPrice));var t={commentKeywords:this.userCommentKeywords,goods:this.goods,goodsAddress:a()({goodsSn:this.goods.goodsSn},this.goodsAddress),expressType:{expressType:this.expressType},specifications:this.specifications,products:this.products,attributes:this.attributes};this.$refs.goods.validate(function(o){o?e.validateSpecAndProducts(e.specifications,e.products)&&Object(s.g)(t).then(function(t){e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3}),e.$router.push({path:"/goods/list"})}).catch(function(e){n.MessageBox.alert("业务错误："+e.data.msg,"警告",{confirmButtonText:"确定",type:"error"})}):e.$notify({title:"失败",message:"校验规则不通过，请检查输入是否有误",type:"error",duration:2e3})})},validateSpecAndProducts:function(e,t){return e.length&&0!==e.length?!(!t.length||0===t.length)||(this.$notify({title:"失败",type:"error",message:"商品库存不能为空"}),!1):(this.$notify({title:"失败",type:"error",message:"商品规格不能为空"}),!1)},handleClose:function(e){this.keywords.splice(this.keywords.indexOf(e),1),this.goods.keywords=this.keywords.toString()},handleCloseComment:function(e){this.userCommentKeywords.splice(this.userCommentKeywords.indexOf(e),1)},showInput:function(){var e=this;this.newKeywordVisible=!0,this.$nextTick(function(t){e.$refs.newKeywordInput.$refs.input.focus()})},showInputComment:function(){var e=this;this.newCommentwordVisible=!0,this.$nextTick(function(t){e.$refs.newCommentwordInput.$refs.input.focus()})},handleInputConfirm:function(){var e=this.newKeyword;e&&(this.keywords.push(e),this.goods.keywords=this.keywords.toString()),this.newKeywordVisible=!1,this.newKeyword=""},handleCommentInputConfirm:function(){var e=this.newCommentword;if(this.userCommentKeywords.length<5&&e){var t={count:0,keywords:e};this.userCommentKeywords.push(t)}this.newCommentwordVisible=!1,this.newCommentword=""},uploadPicUrl:function(e){this.goods.picUrl=this.downloadPath+"/"+e.key},uploadGalleryOverrun:function(e,t){this.uploadOverrun(5)},uploadDetailOverrun:function(){this.uploadOverrun(10)},uploadOverrun:function(e){this.$message({type:"error",message:"上传文件个数超出限制!最多上传"+e+"张图片!"})},handleGalleryUrl:function(e,t,o){var i=this.downloadPath+"/"+e.key;this.goods.gallery.push(i)},handleDetailUrl:function(e,t,o){var i=this.downloadPath+"/"+e.key,a=this.goods.detail?this.goods.detail.split(","):[];a.push(i),this.goods.detail=a.join(","),""!==this.goods.detail&&this.$refs.goods.clearValidate("detail")},handleRemove:function(e,t){for(var o=0;o<this.goods.gallery.length;o++){var i=void 0;i=void 0===e.response?e.url:this.downloadPath+"/"+e.response.key,this.goods.gallery[o]===i&&this.goods.gallery.splice(o,1)}},handleDetailRemove:function(e,t){for(var o=this.goods.detail?this.goods.detail.split(","):[],i=0;i<o.length;i++){var a=void 0;a=void 0===e.response?e.url:this.downloadPath+"/"+e.response.key,o[i]===a&&(o.splice(i,1),this.goods.detail=o.join(","))}},specChanged:function(e){!1===e?(this.specifications=[{specification:"规格",value:"标准"}],this.products=[{id:0,specifications:["标准"],price:0,number:0,url:""}]):(this.specifications=[],this.products=[])},handleSpecificationShow:function(){var e=this;this.specForm={},this.specVisiable=!0,this.$nextTick(function(){e.$refs.specForm.clearValidate()})},handleSpecificationAdd:function(){var e=this;this.$refs.specForm.validate(function(t){if(t){for(var o=e.specifications.length-1,i=0;i<e.specifications.length;i++){e.specifications[i].specification===e.specForm.specification&&(o=i)}e.specifications.splice(o+1,0,e.specForm),e.specVisiable=!1,e.specToProduct()}})},handleSpecificationDelete:function(e){var t=this.specifications.indexOf(e);this.specifications.splice(t,1),this.specToProduct()},specToProduct:function(){if(0!==this.specifications.length){var e=[],t=this.specifications[0].specification,o=[];o.push(0);for(var i=1;i<this.specifications.length;i++){var a=this.specifications[i].specification;a===t?o.push(i):(e.push(o),t=a,(o=[]).push(i))}e.push(o);for(var s=0,r=[],l=[],n=e.length,c=0;c<n;c++)l[c]=0;var d=0,u=!1;do{for(var p=[],m=0;m<n;m++){var h=e[m][l[m]];p.push(this.specifications[h].value)}r[s]={id:s,specifications:p,price:0,number:0,skuNo:0,url:""},s++,d++,l[n-1]=d;for(var f=n-1;f>=0;f--)l[f]>=e[f].length&&(l[f]=0,d=0,f-1>=0&&(l[f-1]=l[f-1]+1));u=!1;for(var v=0;v<n;v++)0!==l[v]&&(u=!0)}while(u);this.products=r}},handleProductShow:function(e){var t=this;this.productForm=a()({},e),this.productVisiable=!0,this.$nextTick(function(){t.$refs.productForm.clearValidate()})},uploadProductUrl:function(e){this.productForm.url=this.downloadPath+"/"+e.key},handleProductEdit:function(){var e=this;this.$refs.productForm.validate(function(t){if(t){for(var o=0;o<e.products.length;o++){if(e.products[o].id===e.productForm.id){e.products.splice(o,1,e.productForm);break}}e.productVisiable=!1}})},handleAttributeShow:function(){var e=this;this.attributeForm={},this.attributeVisiable=!0,this.$nextTick(function(){e.$refs.attributeForm.clearValidate()})},handleAttributeAdd:function(){var e=this;this.$refs.attributeForm.validate(function(t){t&&(e.attributes.push(e.attributeForm),e.attributeVisiable=!1)})},handleAttributeDelete:function(e){var t=this.attributes.indexOf(e);this.attributes.splice(t,1)}}}),m={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container calendar-list-container"},[o("el-card",{staticClass:"box-card"},[o("h3",[e._v("商品介绍")]),e._v(" "),o("el-form",{ref:"goods",attrs:{rules:e.rules,model:e.goods,"label-width":"150px"}},[o("el-form-item",{attrs:{label:"商品编号",prop:"goodsSn"}},[o("el-input",{model:{value:e.goods.goodsSn,callback:function(t){e.$set(e.goods,"goodsSn",t)},expression:"goods.goodsSn"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[o("el-input",{model:{value:e.goods.name,callback:function(t){e.$set(e.goods,"name",t)},expression:"goods.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品副标题"}},[o("el-input",{model:{value:e.goods.brief,callback:function(t){e.$set(e.goods,"brief",t)},expression:"goods.brief"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"原价",prop:"counterPrice"}},[o("el-input",{attrs:{placeholder:"0.00"},model:{value:e.goods.counterPrice,callback:function(t){e.$set(e.goods,"counterPrice",t)},expression:"goods.counterPrice"}},[o("template",{slot:"append"},[e._v("元")])],2)],1),e._v(" "),o("el-form-item",{attrs:{label:"当前价格",prop:"retailPrice"}},[o("el-input",{attrs:{type:"number",placeholder:"0.00"},model:{value:e.goods.retailPrice,callback:function(t){e.$set(e.goods,"retailPrice",t)},expression:"goods.retailPrice"}},[o("template",{slot:"append"},[e._v("元")])],2)],1),e._v(" "),o("el-form-item",{attrs:{label:"是否推荐",prop:"isRecommend"}},[o("el-radio-group",{model:{value:e.goods.isRecommend,callback:function(t){e.$set(e.goods,"isRecommend",t)},expression:"goods.isRecommend"}},[o("el-radio",{attrs:{label:!0}},[e._v("推荐")]),e._v(" "),o("el-radio",{attrs:{label:!1}},[e._v("不推荐")])],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"是否显示月销",prop:"showMonthSell"}},[o("el-radio-group",{model:{value:e.goods.showMonthSell,callback:function(t){e.$set(e.goods,"showMonthSell",t)},expression:"goods.showMonthSell"}},[o("el-radio",{attrs:{label:!0}},[e._v("显示")]),e._v(" "),o("el-radio",{attrs:{label:!1}},[e._v("不显示")])],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"是否上架",prop:"isOnSale"}},[o("el-radio-group",{model:{value:e.goods.isOnSale,callback:function(t){e.$set(e.goods,"isOnSale",t)},expression:"goods.isOnSale"}},[o("el-radio",{attrs:{label:!0}},[e._v("上架")]),e._v(" "),o("el-radio",{attrs:{label:!1}},[e._v("下架")])],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"商品产地"}},[o("el-select",{attrs:{placeholder:"省"},on:{change:e.provinceChange},model:{value:e.goodsAddress.provinceId,callback:function(t){e.$set(e.goodsAddress,"provinceId",t)},expression:"goodsAddress.provinceId"}},e._l(e.provinces,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),o("el-select",{attrs:{placeholder:"市"},on:{change:e.cityChange},model:{value:e.goodsAddress.cityId,callback:function(t){e.$set(e.goodsAddress,"cityId",t)},expression:"goodsAddress.cityId"}},e._l(e.cities,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),o("el-select",{attrs:{placeholder:"区"},model:{value:e.goodsAddress.areaId,callback:function(t){e.$set(e.goodsAddress,"areaId",t)},expression:"goodsAddress.areaId"}},e._l(e.areas,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"商品图片",prop:"picUrl"}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadPath,"list-type":"picture-card","show-file-list":!1,accept:".jpg,.jpeg,.png,.gif","on-success":e.uploadPicUrl}},[e.goods.picUrl?o("img",{staticClass:"avatar",attrs:{src:e.goods.picUrl}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),o("el-form-item",{staticClass:"gallery-img-wrapper",attrs:{label:"宣传画廊"}},[o("el-upload",{attrs:{action:e.uploadPath,limit:5,multiple:"",accept:".jpg,.jpeg,.png,.gif","list-type":"picture-card","on-exceed":e.uploadGalleryOverrun,"on-success":e.handleGalleryUrl,"on-remove":e.handleRemove}},[o("i",{staticClass:"el-icon-plus"})]),e._v(" "),o("span",{staticClass:"pic-notice"},[e._v("建议上传375*375尺寸图片，商品图片最多上传1张，宣传画廊最多上传5张")])],1),e._v(" "),o("el-form-item",{attrs:{label:"商品单位",prop:"unit"}},[o("el-input",{attrs:{placeholder:"件 / 个 / 盒"},model:{value:e.goods.unit,callback:function(t){e.$set(e.goods,"unit",t)},expression:"goods.unit"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品重量",prop:"weight"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.goods.weight,callback:function(t){e.$set(e.goods,"weight",t)},expression:"goods.weight"}},[o("template",{slot:"append"},[e._v("kg")])],2)],1),e._v(" "),o("el-form-item",{attrs:{label:"评价标签"}},[e._l(e.userCommentKeywords,function(t,i){return o("el-tag",{key:i,attrs:{closable:"",type:"primary"},on:{close:function(o){e.handleCloseComment(t)}}},[e._v("\n            "+e._s(t.keywords)+"\n          ")])}),e._v(" "),e.newCommentwordVisible?o("el-input",{ref:"newCommentwordInput",staticClass:"input-new-keyword",attrs:{maxlength:"20",size:"small"},on:{blur:e.handleCommentInputConfirm},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleCommentInputConfirm(t):null}},model:{value:e.newCommentword,callback:function(t){e.newCommentword=t},expression:"newCommentword"}}):o("el-button",{staticClass:"button-new-keyword",attrs:{size:"small",type:"primary"},on:{click:e.showInputComment}},[e._v("+ 增加")])],2),e._v(" "),o("el-form-item",{attrs:{label:"搜索关键字"}},[e._l(e.keywords,function(t){return o("el-tag",{key:t,attrs:{closable:"",type:"primary"},on:{close:function(o){e.handleClose(t)}}},[e._v("\n            "+e._s(t)+"\n          ")])}),e._v(" "),e.newKeywordVisible?o("el-input",{ref:"newKeywordInput",staticClass:"input-new-keyword",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleInputConfirm(t):null}},model:{value:e.newKeyword,callback:function(t){e.newKeyword=t},expression:"newKeyword"}}):o("el-button",{staticClass:"button-new-keyword",attrs:{size:"small",type:"primary"},on:{click:e.showInput}},[e._v("+ 增加")])],2),e._v(" "),o("el-form-item",{attrs:{label:"所属分类",prop:"categoryId"}},[o("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleCategoryChange},model:{value:e.goods.categoryId,callback:function(t){e.$set(e.goods,"categoryId",t)},expression:"goods.categoryId"}},e._l(e.categoryList,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"配送方式",prop:"expressType"}},[o("el-tag",[e._v(e._s(e.expressType?"上门自提":"物流快递"))])],1),e._v(" "),o("el-form-item",{attrs:{label:"商品详细介绍",prop:"detail"}},[o("el-upload",{attrs:{action:e.uploadPath,limit:10,multiple:"",accept:".jpg,.jpeg,.png,.gif","list-type":"picture-card","on-exceed":e.uploadDetailOverrun,"on-success":e.handleDetailUrl,"on-remove":e.handleDetailRemove}},[o("i",{staticClass:"el-icon-plus"})]),e._v(" "),o("span",{staticClass:"pic-notice"},[e._v("图片最多上传10张")])],1)],1)],1),e._v(" "),o("el-card",{staticClass:"box-card"},[o("h3",{staticClass:"required-prefix"},[e._v("商品规格")]),e._v(" "),o("el-row",{staticStyle:{padding:"20px 0"},attrs:{type:"flex",align:"middle",gutter:20}},[o("el-col",{attrs:{span:10}},[o("el-radio-group",{on:{change:e.specChanged},model:{value:e.multipleSpec,callback:function(t){e.multipleSpec=t},expression:"multipleSpec"}},[o("el-radio-button",{attrs:{label:!1}},[e._v("默认标准规格")]),e._v(" "),o("el-radio-button",{attrs:{label:!0}},[e._v("多规格支持")])],1)],1),e._v(" "),e.multipleSpec?o("el-col",{attrs:{span:10}},[o("el-button",{attrs:{plain:!0,type:"primary"},on:{click:e.handleSpecificationShow}},[e._v("添加")])],1):e._e()],1),e._v(" "),o("el-table",{attrs:{data:e.specifications}},[o("el-table-column",{attrs:{property:"specification",label:"规格名"}}),e._v(" "),o("el-table-column",{attrs:{property:"value",label:"规格值"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tag",{attrs:{type:"primary"}},[e._v("\n              "+e._s(t.row.value)+"\n            ")])]}}])}),e._v(" "),e.multipleSpec?o("el-table-column",{attrs:{align:"center",label:"操作",width:"250","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(o){e.handleSpecificationDelete(t.row)}}},[e._v("删除")])]}}])}):e._e()],1),e._v(" "),o("el-dialog",{attrs:{title:"设置规格",visible:e.specVisiable},on:{"update:visible":function(t){e.specVisiable=t}}},[o("el-form",{ref:"specForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:e.specRules,model:e.specForm,"status-icon":"","label-position":"left","label-width":"100px"}},[o("el-form-item",{attrs:{label:"规格名",prop:"specification"}},[o("el-input",{model:{value:e.specForm.specification,callback:function(t){e.$set(e.specForm,"specification",t)},expression:"specForm.specification"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"规格值",prop:"value"}},[o("el-input",{model:{value:e.specForm.value,callback:function(t){e.$set(e.specForm,"value",t)},expression:"specForm.value"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.specVisiable=!1}}},[e._v("取消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.handleSpecificationAdd}},[e._v("确定")])],1)],1)],1),e._v(" "),o("el-card",{staticClass:"box-card"},[o("h3",{staticClass:"required-prefix"},[e._v("商品库存")]),e._v(" "),o("el-table",{attrs:{data:e.products}},[o("el-table-column",{attrs:{property:"value",label:"货品规格"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.specifications,function(t){return o("el-tag",{key:t},[e._v("\n              "+e._s(t)+"\n            ")])})}}])}),e._v(" "),o("el-table-column",{attrs:{property:"skuNo",width:"100",label:"SKU编码"}}),e._v(" "),o("el-table-column",{attrs:{property:"price",width:"100",label:"货品售价"}}),e._v(" "),o("el-table-column",{attrs:{property:"number",width:"100",label:"货品数量"}}),e._v(" "),o("el-table-column",{attrs:{property:"url",width:"100",label:"货品图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.url?o("img",{attrs:{src:t.row.url,width:"40"}}):e._e()]}}])}),e._v(" "),o("el-table-column",{attrs:{align:"center",label:"操作",width:"100","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(o){e.handleProductShow(t.row)}}},[e._v("设置")])]}}])})],1),e._v(" "),o("el-dialog",{attrs:{title:"设置货品",visible:e.productVisiable},on:{"update:visible":function(t){e.productVisiable=t}}},[o("el-form",{ref:"productForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:e.productRules,model:e.productForm,"status-icon":"","label-position":"left","label-width":"100px"}},[o("el-form-item",{attrs:{label:"货品规格列",prop:"specifications"}},e._l(e.productForm.specifications,function(t){return o("el-tag",{key:t},[e._v("\n            "+e._s(t)+"\n          ")])})),e._v(" "),o("el-form-item",{attrs:{label:"货品售价",prop:"price"}},[o("el-input",{model:{value:e.productForm.price,callback:function(t){e.$set(e.productForm,"price",t)},expression:"productForm.price"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"货品数量",prop:"number"}},[o("el-input",{model:{value:e.productForm.number,callback:function(t){e.$set(e.productForm,"number",t)},expression:"productForm.number"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"SKU编码",prop:"skuNo"}},[o("el-input",{model:{value:e.productForm.skuNo,callback:function(t){e.$set(e.productForm,"skuNo",t)},expression:"productForm.skuNo"}})],1),e._v(" "),o("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"货品图片",prop:"url"}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadPath,"list-type":"picture-card","show-file-list":!1,accept:".jpg,.jpeg,.png,.gif","on-success":e.uploadProductUrl}},[e.productForm.url?o("img",{staticClass:"avatar",attrs:{src:e.productForm.url}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),o("span",{staticClass:"pic-notice"},[e._v("建议上传375px*375px尺寸图片，货品图片最多上传1张")])],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.productVisiable=!1}}},[e._v("取消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.handleProductEdit}},[e._v("确定")])],1)],1)],1),e._v(" "),o("el-card",{staticClass:"box-card"},[o("h3",[e._v("商品参数")]),e._v(" "),o("el-button",{attrs:{plain:!0,type:"primary"},on:{click:e.handleAttributeShow}},[e._v("添加")]),e._v(" "),o("el-table",{attrs:{data:e.attributes}},[o("el-table-column",{attrs:{property:"attribute",label:"商品参数名称"}}),e._v(" "),o("el-table-column",{attrs:{property:"value",label:"商品参数值"}}),e._v(" "),o("el-table-column",{attrs:{align:"center",label:"操作",width:"100","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(o){e.handleAttributeDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-dialog",{attrs:{title:"设置商品参数",visible:e.attributeVisiable},on:{"update:visible":function(t){e.attributeVisiable=t}}},[o("el-form",{ref:"attributeForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:e.attributeRules,model:e.attributeForm,"status-icon":"","label-position":"left","label-width":"120px"}},[o("el-form-item",{attrs:{label:"商品参数名称",prop:"attribute"}},[o("el-input",{model:{value:e.attributeForm.attribute,callback:function(t){e.$set(e.attributeForm,"attribute",t)},expression:"attributeForm.attribute"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品参数值",prop:"value"}},[o("el-input",{model:{value:e.attributeForm.value,callback:function(t){e.$set(e.attributeForm,"value",t)},expression:"attributeForm.value"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.attributeVisiable=!1}}},[e._v("取消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.handleAttributeAdd}},[e._v("确定")])],1)],1)],1),e._v(" "),o("div",{staticClass:"op-container"},[o("el-button",{on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.handlePublish}},[e._v("上架")])],1)],1)},staticRenderFns:[]};var h=o("VU/8")(p,m,!1,function(e){o("lsBo"),o("Fnfb")},"data-v-6bc804bd",null);t.default=h.exports},Fnfb:function(e,t,o){var i=o("Ja1D");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);o("rjj0")("02a0f074",i,!0)},Ja1D:function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,"\n.required-prefix[data-v-6bc804bd]:before{\r\n  content: '*';\r\n  color: #f56c6c;\r\n  margin-right: 5px;\n}\n.pic-notice[data-v-6bc804bd]{\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  margin-top: -5px;\n}\r\n",""])},V7hG:function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,"\n.el-card {\n    margin-bottom: 10px;\n}\n.el-tag + .el-tag {\n    margin-left: 10px;\n}\n.input-new-keyword {\n    width: 130px;\n    margin-left: 10px;\n    vertical-align: bottom;\n}\n.avatar-uploader .el-upload {\n\t  border: 1px dashed #d9d9d9;\n\t  border-radius: 6px;\n\t  cursor: pointer;\n\t  position: relative;\n\t  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n\t  border-color: #20a0ff;\n}\n.avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 146px;\n    height: 146px;\n    line-height: 146px;\n    text-align: center;\n}\n.avatar {\n    width: 146px;\n    height: 146px;\n    display: block;\n}\n.gallery-img-wrapper .el-upload-list--picture-card img, .gu-mirror img{\n    width: 146px;\n    height: 146px;\n}\n.gu-mirror.el-upload-list__item{\n    overflow: hidden;\n    background-color: #fff;\n    border: 1px solid #c0ccda;\n    border-radius: 6px;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    width: 146px;\n    height: 146px;\n    margin: 0 8px 8px 0;\n    display: inline-block;\n}\n",""])},lsBo:function(e,t,o){var i=o("V7hG");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);o("rjj0")("79718178",i,!0)}});